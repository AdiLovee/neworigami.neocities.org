<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NewOrigami - Origami Archive</title>
    <link rel="icon" href="./favicon.png" />
    <!-- Run before anything else -->
    <script>
      const script = document.createElement("script");
      script.src = "./scripts/versionCheck.js?v=" + Date.now();
      document.head.appendChild(script);
    </script>
    
    <!-- Template scripts -->
    <link rel="stylesheet" href="./style.css" />
    <script src="./scripts/themeInit.js"></script>
    <script src="./scripts/footer.js" defer></script>
    <script src="./scripts/darkMode.js" defer></script>
    
    <!-- Scripts needed for page contents go here -->
    <script type="module" src="./scripts/paginationCreators.js" defer></script>
    <script defer>
      fetch("./updates/manifest.json")
      .then(res => res.json())
      .then(data => {
        const mostRecentRaw = data
          .map(entry => entry.replace(".md", ""))
          .sort((a, b) => new Date(b) - new Date(a))[0];

        // Parse as local date
        const [year, month, day] = mostRecentRaw.split('-').map(Number);
        const localDate = new Date(year, month - 1, day); // month is 0-based
        
        const formattedDate = localDate.toLocaleDateString("en-US", {
          year: "numeric",
          month: "long",
          day: "numeric"
        });

        document.getElementById("lastUpdate").textContent = formattedDate;
      })
      .catch(err => {
        console.error("Failed to fetch manifest:", err);
        document.getElementById("lastUpdate").textContent = "Unavailable";
      });
    </script>
  </head>
  <body>
    <table border="0">
      <tbody>
        <tr>
          <th>
            <h2>Welcome to the new Origami.com</h2>
          </th>
          <th>
            &nbsp; &nbsp; &nbsp; &nbsp;
          </th>
          <th align="right">
            A website by Adinah Levi
            <br>
            <div id="darkMode"></div>
          </th>
        </tr>
      </tbody>
    </table>
    <ul style="list-style: none; width:75%">
      <p>NewOrigami is the spiritual successor to <a href="https://web.archive.org/web/20130317080729/http://www.origami.org/index.html">Origami.com</a>, formerly by Alex Barber.</p>
      <p>This is an archive dedicated to preserving and sharing as many publicly-available origami diagrams as possible, with a heavy focus on diagrams shared on sites that no longer existor only exist in the Wayback Machine now.</p>
      <p>In the future I would like to turn this into a giant hub of free diagrams contributed by the community, so please feel free to share any diagrams you'd like with me!</p>
      <p>All diagrams are presented in PDF format.</p>
      <p>This site is regularly being updated, so please follow the <a href="https://neocities.org/site/neworigami">site</a> and leave feedback and comments in the <a href="https://neworigami.atabook.org">guestbook</a>.</p>
      <p>
        Have a diagram you'd like to be shared here? Just upload it to any file transfer site and comment the link!<br>
        Have a creator you'd like to share? Comment their site and/or YouTube Channel and I'll also add it!
      </p>
      <p>Last updated: <a href="./updates.html"><span id="lastUpdate">...</span></p>
      <p><a href="./todo.html">Planned updates</a></p>
      <p>If you are having troubles seeing the updates, try refreshing the page. If that doesnt work, <em>still</em>, please leave a comment on the site or guestbook above.</p>
      <hr>
      <ul><h2>Sandbox</h2></ul>
      <li>Click <a href="./experimental/sandbox.html">here</a> to visit the sandbox and view any updates currently under testing.</li>
      <hr>
      <!--
        <ul><h2>Learner's Lair</h2></ul>
          <li><a href="./intro/symbols.html">Symbols</a></li>
          <li><a href="./intro/bases.html">Bases</a></li>
          <li><a href="./intro/beginner.html">Beginner Models</a></li>
        <hr>
      -->
      <ul><h2>Archives</h2></ul>
      <li><a href="./diagrams.html">All diagrams sorted by Name</a></li>
      <br>
      <ul><h3>Diagrams by Difficulty</h3></ul>
        <li><a href="./diagrams.html?difficulty=easy">Easy Models</a></li>
        <li><a href="./diagrams.html?difficulty=medium">Medium Models</a></li>
        <li><a href="./diagrams.html?difficulty=hard">Hard Models</a></li>
      <br>
      <ul><h3>Diagrams by Category</h3></ul>
        <li><a href="./diagrams.html?category=Animals">Animals</a></li>
        <li><a href="./diagrams.html?category=Anime">Anime</a></li>
        <li><a href="./diagrams.html?category=Bill+Models">Bill Models</a></li>
        <li><a href="./diagrams.html?category=Birds">Birds</a></li>
        <li><a href="./diagrams.html?category=Dinosaurs">Dinosaurs</a></li>
        <li><a href="./diagrams.html?category=Fish">Fish</a></li>
        <li><a href="./diagrams.html?category=Insects">Insects</a></li>
        <li><a href="./diagrams.html?category=Misc">Misc</a></li>
        <li><a href="./diagrams.html?category=Modular">Modular Units</a></li>
        <li><a href="./diagrams.html?category=Muppets">Muppets</a></li>
        <li><a href="./diagrams.html?category=Plants">Plants</a></li>
        <li><a href="./diagrams.html?category=Star+Wars">Star Wars</a></li>
        <li><a href="./diagrams.html?category=Tesselation">Tesselations</a></li>
        <li><a href="./diagrams.html?category=Vehicles">Vehicles</a></li>
      <br>
      <hr>
      <ul><h2>Creator Site Links</h2>
      </ul>
      <div id="pagination"></div>
      <hr>
      <div id="tableContainer">
        <table border="0" id="tablePaginated">
          <tbody>
            <tr>
              <th>Name</th>
              <th></th>
              <th>Site</th>
              <th>YouTube</th>
            </tr>
          </tbody>
        </table>
      </div>
      <div id="footer"></div>
    </ul>
  </body>
</html>
